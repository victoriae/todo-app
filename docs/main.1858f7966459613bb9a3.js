(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{L:()=>k});var e=document.querySelector("body"),n=e.querySelector(".header-image"),o=e.querySelector(".theme-icon"),r=document.getElementById("theme-button"),a="dark";var i=function(){e.classList.toggle("dark"),e.classList.toggle("light"),a=e.classList.contains("dark")?"dark":"light",c()},c=function(){var t=window.matchMedia("(min-width: 768px)").matches?"desktop":"mobile";n.src="./assets/img/bg-".concat(t,"-").concat(a,".jpg"),o.src="./assets/img/icon-".concat(a,".svg")};function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}r.addEventListener("click",(function(){i()})),window.addEventListener("resize",(function(){c()}));var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=e,this.id=(new Date).getTime(),this.completed=!1,this.created=new Date}var e,n,o;return e=t,o=[{key:"fromJSON",value:function(e){var n=e.id,o=e.title,r=e.completed,a=e.created,i=new t(o);return i.id=n,i.completed=r,i.created=a,i}}],(n=null)&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var f=document.querySelector(".todo-list"),m=document.getElementById("add-todo-field"),g=document.getElementById("add-todo-check"),v=document.getElementById("clear-completed"),h=document.querySelector(".todo-filter"),p=function(t){var e='<input\n                      type="checkbox"\n                      class="todo-check flex-shrink-0"\n                      name="complete-todo-check"\n                      id="complete-todo-check"\n                    />\n                    <label\n                      class="todo-text\n                      align-self-center flex-grow">\n                      '.concat(t.title,'\n                    </label>\n                    <button class="delete-todo flex-shrink-0">\n                      <img\n                        src="./assets/img/icon-cross.svg"\n                        alt="delete todo" />\n                    </button>'),n=document.createElement("li");return n.setAttribute("data-id",t.id),n.classList.add("todo-item","flex","align-items-center","gap"),t.completed&&n.classList.add("todo-completed"),n.innerHTML=e,f.append(n),n};m.addEventListener("keyup",(function(t){"Enter"===t.code&&m.value.length>0&&y(m.value)})),g.addEventListener("click",(function(t){m.value.length>0&&y(m.value)})),f.addEventListener("click",(function(t){var e=t.target.localName,n=t.target.parentElement,o=n.getAttribute("data-id");"input"===e?(k.toggleComplete(o),n.classList.toggle("todo-completed")):"button"===e&&(k.deleteTodo(o),n.remove())})),v.addEventListener("click",(function(t){k.deleteCompleted(),document.querySelectorAll(".todo-completed").forEach((function(t){return t.remove()}))})),h.addEventListener("click",(function(t){var e=t.target.id;if(!(!e.length>0)){document.querySelectorAll(".filter-button").forEach((function(t){return t.classList.remove("filter-selected")})),t.target.classList.toggle("filter-selected");var n,o=s(f.children);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.classList.remove("hidden"),r.classList.add("flex");var a=r.classList.contains("todo-completed");switch(e){case"filter-active":a&&(r.classList.add("hidden"),r.classList.remove("flex"));break;case"filter-completed":a||(r.classList.add("hidden"),r.classList.remove("flex"))}}}catch(t){o.e(t)}finally{o.f()}}}));var y=function(t){var e=new d(t);k.addTodo(e),p(e),m.value=""},b=function(){var t=k.countTodos();document.getElementById("todo-count").innerHTML="".concat(t," ").concat(1===t?"item":"items"," left")};function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var k=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getLocalStorage()}var e,n,o;return e=t,(n=[{key:"addTodo",value:function(t){this.todos.push(t),this.updateLocalStorage()}},{key:"deleteTodo",value:function(t){this.todos=this.todos.filter((function(e){return e.id.toString()!==t.toString()})),this.updateLocalStorage()}},{key:"toggleComplete",value:function(t){var e,n=S(this.todos);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.id.toString()===t.toString()){o.completed=!o.completed,this.updateLocalStorage();break}}}catch(t){n.e(t)}finally{n.f()}}},{key:"deleteCompleted",value:function(){this.todos=this.todos.filter((function(t){return!t.completed})),this.updateLocalStorage()}},{key:"countTodos",value:function(){return this.todos.filter((function(t){return!t.completed})).length}},{key:"updateLocalStorage",value:function(){localStorage.setItem("todos",JSON.stringify(this.todos)),b(),console.log(this.todos)}},{key:"getLocalStorage",value:function(){this.todos=localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[],this.todos.map(d.fromJSON)}}])&&w(e.prototype,n),o&&w(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}());k.todos.forEach(p),b()})();