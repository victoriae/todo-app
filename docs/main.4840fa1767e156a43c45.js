(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.d({},{L:()=>y});var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=e,this.id=(new Date).getTime(),this.completed=!1,this.created=new Date}var n,o,r;return n=t,r=[{key:"fromJSON",value:function(e){var n=e.id,o=e.title,r=e.completed,a=e.created,i=new t(o);return i.id=n,i.completed=r,i.created=a,i}}],(o=null)&&e(n.prototype,o),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,i=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var a=document.querySelector(".todo-list"),i=document.getElementById("add-todo-field"),l=document.getElementById("add-todo-check"),c=document.getElementById("clear-completed"),d=document.querySelector(".todo-filter"),u=function(t){var e='<input\n                      type="checkbox"\n                      class="todo-check flex-shrink-0"\n                      name="complete-todo-check"\n                      id="complete-todo-check"\n                    />\n                    <label\n                      class="todo-text\n                      align-self-center flex-grow">\n                      '.concat(t.title,'\n                    </label>\n                    <button class="delete-todo flex-shrink-0">\n                      <img\n                        src="./assets/img/icon-cross.svg"\n                        alt="delete todo" />\n                    </button>'),n=document.createElement("li");return n.setAttribute("data-id",t.id),n.classList.add("todo-item","flex","align-items-center","gap"),t.completed&&n.classList.add("todo-completed"),n.innerHTML=e,a.append(n),n};i.addEventListener("keyup",(function(t){"Enter"===t.code&&i.value.length>0&&s(i.value)})),l.addEventListener("click",(function(t){i.value.length>0&&s(i.value)})),a.addEventListener("click",(function(t){var e=t.target.localName,n=t.target.parentElement,o=n.getAttribute("data-id");"input"===e?(y.toggleComplete(o),n.classList.toggle("todo-completed")):"button"===e&&(y.deleteTodo(o),n.remove())})),c.addEventListener("click",(function(t){y.deleteCompleted(),document.querySelectorAll(".todo-completed").forEach((function(t){return t.remove()}))})),d.addEventListener("click",(function(t){var e=t.target.id;if(!(!e.length>0)){document.querySelectorAll(".filter-button").forEach((function(t){return t.classList.remove("filter-selected")})),t.target.classList.toggle("filter-selected");var n,r=o(a.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.classList.remove("hidden"),i.classList.add("flex");var l=i.classList.contains("todo-completed");switch(e){case"filter-active":l&&(i.classList.add("hidden"),i.classList.remove("flex"));break;case"filter-completed":l||(i.classList.add("hidden"),i.classList.remove("flex"))}}}catch(t){r.e(t)}finally{r.f()}}}));var s=function(t){var e=new n(t);y.addTodo(e),u(e),i.value=""},f=function(){var t=y.countTodos();document.getElementById("todo-count").innerHTML="".concat(t," items left")};function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getLocalStorage()}var e,o,r;return e=t,(o=[{key:"addTodo",value:function(t){this.todos.push(t),this.updateLocalStorage()}},{key:"deleteTodo",value:function(t){this.todos=this.todos.filter((function(e){return e.id.toString()!==t.toString()})),this.updateLocalStorage()}},{key:"toggleComplete",value:function(t){var e,n=m(this.todos);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.id.toString()===t.toString()){o.completed=!o.completed,this.updateLocalStorage();break}}}catch(t){n.e(t)}finally{n.f()}}},{key:"deleteCompleted",value:function(){this.todos=this.todos.filter((function(t){return!t.completed})),this.updateLocalStorage()}},{key:"countTodos",value:function(){return this.todos.filter((function(t){return!t.completed})).length}},{key:"updateLocalStorage",value:function(){localStorage.setItem("todos",JSON.stringify(this.todos)),f(),console.log(this.todos)}},{key:"getLocalStorage",value:function(){this.todos=localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[],this.todos.map(n.fromJSON)}}])&&v(e.prototype,o),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());y.todos.forEach(u),f()})();